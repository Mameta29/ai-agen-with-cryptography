# 📅 スケジュール時間制限テスト用メール

## ⏰ 現在の時間制限設定
- **許可時間**: 9:00 - 18:00
- **許可曜日**: 月曜日-金曜日（1-5）
- **最大会議時間**: 3時間
- **ブロックキーワード**: confidential, secret, internal only, 機密, 秘密

---

## ✅ **成功するメール例（許可時間内）**

### 1. 平日午後の会議（成功予定）
```
宛先: mameta.zk@gmail.com
件名: 【会議】プロジェクト進捗会議
本文:
お疲れ様です。

来週の進捗会議についてご連絡いたします。

【会議詳細】
- 件名: プロジェクト進捗会議
- 日時: 2024-12-20 14:00-16:00  ← 平日14-16時（許可範囲内）
- 場所: 会議室B
- 参加者: 開発チーム
- 内容: 進捗確認とタスク調整

よろしくお願いいたします。
```

### 2. 平日朝の短時間会議（成功予定）
```
宛先: mameta.zk@gmail.com
件名: 朝会のお知らせ
本文:
おはようございます。

定例朝会についてお知らせします。

【会議詳細】
- 件名: チーム朝会
- 日時: 2024-12-19 09:30-10:00  ← 平日9:30-10時（許可範囲内）
- 場所: オンライン
- 参加者: 全員
- 内容: 今日のタスク確認

参加をお願いします。
```

---

## ❌ **失敗するメール例（許可時間外）**

### 1. 深夜の会議（失敗予定 - 時間外）
```
宛先: mameta.zk@gmail.com
件名: 【緊急】深夜会議のお知らせ
本文:
お疲れ様です。

緊急対応のため深夜会議を開催します。

【会議詳細】
- 件名: 緊急対応会議
- 日時: 2024-12-20 22:00-23:00  ← 22-23時（許可時間外：18時以降）
- 場所: オンライン
- 参加者: 対応チーム
- 内容: 障害対応

ご参加をお願いします。
```

### 2. 早朝の会議（失敗予定 - 時間外）
```
宛先: mameta.zk@gmail.com
件名: 早朝ミーティング
本文:
おはようございます。

海外チームとの早朝ミーティングです。

【会議詳細】
- 件名: 海外チーム定例会
- 日時: 2024-12-21 07:00-08:00  ← 7-8時（許可時間外：9時前）
- 場所: オンライン
- 参加者: グローバルチーム
- 内容: 週次進捗共有

よろしくお願いします。
```

### 3. 土曜日の会議（失敗予定 - 休日）
```
宛先: mameta.zk@gmail.com
件名: 土曜日ワークショップ
本文:
お疲れ様です。

土曜日のワークショップについてお知らせします。

【会議詳細】
- 件名: 技術ワークショップ
- 日時: 2024-12-21 13:00-16:00  ← 土曜日（許可曜日外）
- 場所: オフィス
- 参加者: 技術チーム
- 内容: 新技術の学習

参加をお願いします。
```

### 4. 長時間会議（失敗予定 - 時間超過）
```
宛先: mameta.zk@gmail.com
件名: 全日研修会
本文:
お疲れ様です。

来週の研修会についてお知らせします。

【会議詳細】
- 件名: 年次研修会
- 日時: 2024-12-20 10:00-17:00  ← 7時間（最大3時間を超過）
- 場所: 研修室
- 参加者: 全社員
- 内容: 年次研修プログラム

必須参加です。
```

### 5. 機密会議（失敗予定 - ブロックキーワード）
```
宛先: mameta.zk@gmail.com
件名: 【機密】重要会議
本文:
お疲れ様です。

機密事項に関する重要会議です。

【会議詳細】
- 件名: 機密プロジェクト会議  ← 「機密」キーワード
- 日時: 2024-12-20 14:00-15:00
- 場所: 会議室A
- 参加者: 限定メンバー
- 内容: confidential project discussion  ← 「confidential」キーワード

参加をお願いします。
```

---

## 🧪 **テスト手順**

1. **成功例を1つ送信** → ZKP検証成功 → カレンダー登録
2. **失敗例を1つ送信** → ZKP検証失敗 → 処理ブロック
3. **メール処理実行**:
   ```bash
   curl -X POST http://localhost:3000/api/process-emails
   ```
4. **結果確認**: ログで検証結果を比較

## 📊 **期待される結果**

### ✅ 成功例
```
✅ 全てのスケジュールルールに適合しています
✅ スケジュールZKP検証成功 - カレンダー登録を実行
Calendar event created: [イベントID]
```

### ❌ 失敗例
```
❌ 許可時間外の予定です: 22:00-23:00 not in 9:00-18:00
❌ ZKP検証に失敗しました
```

これで時間制限の動作を確実に検証できます！ 